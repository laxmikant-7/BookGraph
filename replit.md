# BookGraph - Library Book Recommendation System

## Overview

BookGraph is a full-stack web application that provides book recommendations using graph-based data structures and algorithms. Built as a Data Structures & Algorithms assignment project, it demonstrates practical application of graphs (adjacency lists), BFS traversal, and priority queues (max heaps) to generate personalized book recommendations.

The core concept represents books as graph nodes with weighted edges representing relationships (same author, genre, shared keywords, borrowed together). Recommendations are generated by traversing this graph and ranking results using a max heap priority queue.

## User Preferences

Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend Architecture
- **Framework**: React 18 with TypeScript
- **Routing**: Wouter (lightweight client-side routing)
- **State Management**: TanStack React Query for server state
- **Styling**: Tailwind CSS with shadcn/ui component library
- **Animations**: Framer Motion for UI transitions
- **Build Tool**: Vite with hot module replacement

**Key Pages**:
- Home: Book library display with search and delete functionality
- Search: Book selection and recommendation viewing
- Add Book: Form for adding new books to the library

### Backend Architecture
- **Runtime**: Node.js with Express
- **Language**: TypeScript (ESM modules)
- **API Style**: RESTful JSON endpoints

**Core Data Structures** (implemented from scratch):
1. **Graph (Adjacency List)** - `server/datastructures/Graph.ts`
   - Books as nodes, relationships as weighted edges
   - O(1) neighbor lookup, O(V+E) space complexity

2. **Max Heap Priority Queue** - `server/datastructures/PriorityQueue.ts`
   - Ranks recommendations by score
   - O(log n) insert/extract, O(1) peek

3. **Recommendation Engine** - `server/services/RecommendationEngine.ts`
   - BFS traversal with depth limit of 2
   - Scoring based on: genre (+3), author (+5), keywords (+1 each), edge weights
   - Returns top 5 recommendations via heap extraction

### API Endpoints
- `GET /api/books` - List all books
- `GET /api/books/:id` - Get specific book
- `POST /api/books` - Create new book
- `DELETE /api/books/:id` - Delete book
- `GET /api/books/:id/recommendations` - Get recommendations for a book
- `GET /api/search?q=query` - Search books

### Data Storage
- **Current**: In-memory storage with HashMap (Map) for O(1) book lookup
- **Schema**: Drizzle ORM with PostgreSQL configuration ready
- **Validation**: Zod schemas for type-safe data handling

### Shared Code
The `shared/` directory contains schemas and types used by both frontend and backend:
- Book schema with validation
- Edge schema for graph relationships
- Recommendation schema with scoring metadata

## External Dependencies

### Database
- **PostgreSQL**: Configured via `DATABASE_URL` environment variable
- **Drizzle ORM**: Schema management and database operations
- **Drizzle Kit**: Database migrations (`db:push` command)

### UI Components
- **shadcn/ui**: Pre-built accessible components (new-york style)
- **Radix UI**: Headless UI primitives for accessibility
- **Lucide React**: Icon library

### Build & Development
- **Vite**: Frontend bundling with React plugin
- **esbuild**: Server-side bundling for production
- **tsx**: TypeScript execution for development

### Key NPM Packages
- `@tanstack/react-query`: Server state management
- `react-hook-form` + `@hookform/resolvers`: Form handling with Zod validation
- `framer-motion`: Animation library
- `wouter`: Client-side routing
- `zod`: Schema validation
- `date-fns`: Date utilities